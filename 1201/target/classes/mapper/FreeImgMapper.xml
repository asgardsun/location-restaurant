<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board.mapper.FreeImgMapper">
<insert id="insertFile" parameterType="board.model.FreeImgVO">
		insert into freeboard_img 
			(FREE_UUID, FREE_NUM, FREE_UPLOAD_PATH, FREE_FILENAME)
		values (#{uuid}, #{freeNum}, #{uploadPath}, #{originName})
	</insert>
	<update id="updateFile" parameterType="board.model.FreeImgVO">
		UPDATE freeboard_img SET FREE_FILENAME = #{originName}
		WHERE FREE_UUID = #{uuid}
	</update>
	<delete id="deleteFile" parameterType="string">
		delete from freeboard_img where FREE_UUID = #{uuid}
	</delete>
	<delete id="deleteFileByFNum" parameterType="int">
		delete from freeboard_img where FREE_NUM = #{freeNum}
	</delete>
	<select id="selectFile" parameterType="string" resultMap="fImgMap">
		select * from freeboard_img where FREE_UUID = #{uuid}
	</select>
	<select id="selectFilesByFNum" parameterType="int" resultMap="fImgMap">
		select * from freeboard_img where FREE_NUM = #{freeNum} order by IMG_REG_DATE ASC, FREE_UUID ASC
	</select>
	<select id="selectAllFiles" resultMap="fImgMap">
		select * from freeboard_img order by FREE_UUID ASC
	</select>
	<resultMap type="board.model.FreeImgVO" id="fImgMap">
		<result column="FREE_UUID" property="uuid"/>
		<result column="FREE_NUM" property="freeNum"/>
		<result column="FREE_UPLOAD_PATH" property="uploadPath"/>
		<result column="FREE_FILENAME" property="originName"/>
		<result column="IMG_REG_DATE" property="regDate"/>
	</resultMap>

</mapper>
